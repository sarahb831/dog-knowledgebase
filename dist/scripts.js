!function(){var e=$("#modal-container"),n=$("#message"),t=function(){var e=[],n="https://dog.ceo/api/breeds/list/all";function t(n){"object"==typeof n&&(function(e){return!(e.length>0)}(e)||function(e,n){for(var t=Object.keys(e),a=Object.keys(n),o=0;o<t.length;o++)return t[o]===a[o]}(e[0],n))?e.push(n):console.warn("Not valid dog data, item not added!")}return{add:t,getAll:function(){return e},search:function(n){for(var t=0;t<e.length;t++)if(e[t].name===n)return e[t];return null},loadList:function(){return o("Loading Dogs list, please wait..."),$.ajax(n,{dataType:"json"}).then(function(e){i();for(var n=Object.keys(e.message),a=0;a<n.length;a++)t({name:n[a],detailsUrl:"https://dog.ceo/api/breed/"+n[a]+"/images/random"})}).catch(function(e){console.error(e)})},loadDetails:function(e){var n="https://dog.ceo/api/breed/"+e.name+"/images/random";return $.ajax(n,{dataType:"json"}).then(function(n){e.imageUrl=n.message}).catch(function(e){console.error(e)})}}}();function a(){e.removeClass()}function o(e){n.text(e),n.addClass("is-visible")}function i(){n.removeClass()}function s(n){o("Loading breed image, please wait...");var s=t.search(n);t.loadDetails(s).then(function(){!function(n){e.text("");var t=$("div"),o=$('<button class="modal-close">Close</button>').on("click",a),i=$("<h1>"+n.name+"</h1>"),s=$("<img src="+n.imageUrl+' class = "dog-image" alt = "'+n.name+' picture" >');t.append(o),t.append(i),t.append(s),e.append(t),e.addClass("is-visible")}(s),i()})}function r(e){var n=$(".item-list"),t=$("<li id="+e.name+' class="item-list__item"></li>'),a=$("<button>"+e.name+"</button>");t.append(a),n.append(t),a.on("click",function(e){s($(e.target).text())})}t.loadList().then(function(){for(var e=t.getAll(),n=0;n<e.length;n++)r(e[n])}),window.addEventListener("keydown",n=>{"Escape"===n.key&&"is-visible"===e.attr("class")&&a()}),e.on("click",()=>{a()})}();